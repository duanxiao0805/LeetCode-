**这个题的思维逻辑**

二进制形式中，n & (n - 1) 与数字n相比，n最右侧的1变成了0。也就是每次执行n = n & (n - 1)可以将n中的一个1置为0，计数即可。



**6--->110**
**5--->101**

第一次:110&101--->100

100--->4

101--->3

第二次:100&101--->1

1--->1

0--->0

1&0--->0

**终止循环**

总次数1+1--->2

所以有两个1

比如4--->100

二进制100,减去1后--->011

```java

class Solution {
    public int[] countBits(int n) {
        int [] res=new int[n+1];    //存输出的结果
        for(int i=0;i<=n;i++){
            int j=i;
            while(j!=0){
                res[i]=res[i]+1;
                j=j&(j-1);
            }
        }
        return res;
    } 
}

```



